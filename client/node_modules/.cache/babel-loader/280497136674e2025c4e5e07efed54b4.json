{"ast":null,"code":"var _jsxFileName = \"/Users/mamenko/inky-doodle/src/components/RightParents.js\";\nimport React, { useEffect } from \"react\";\nimport axios from \"axios\";\nimport InkyDoodle from \"./InkyDoodle\";\n\nconst RightParents = props => {\n  const {\n    parentInkyDoodles,\n    rightTreeLeftParent,\n    changeRightTreeLeftParent,\n    rightTreeRightParent,\n    changeRightTreeRightParent,\n    changeRightGen2,\n    changeRightGen2Loading\n  } = props;\n  const parentInkyDoodlesQuery = `\n    query {\n        inkyDoodleCollection(where: {generation_in: 2, parents_contains_all: [${rightTreeLeftParent.label ? JSON.stringify(rightTreeLeftParent.label) : null}, ${rightTreeRightParent.label ? JSON.stringify(rightTreeRightParent.label) : null}]}) {\n            items {\n                generation\n                name\n                parents\n                image {\n                    url\n                }\n            }\n        }\n    }\n`;\n  useEffect(() => {\n    const getGen2Function = async () => {\n      changeRightGen2Loading(true);\n      const response = await axios({\n        url: `https://graphql.contentful.com/content/v1/spaces/${process.env.REACT_APP_SPACE_ID}`,\n        method: \"post\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${process.env.REACT_APP_ACCESS_TOKEN}`\n        },\n        data: {\n          query: parentInkyDoodlesQuery\n        }\n      }).then(res => {\n        return res.data;\n      }).then(({\n        data,\n        errors\n      }) => {\n        changeRightGen2Loading(false);\n\n        if (errors) {\n          console.error(errors);\n        }\n\n        changeRightGen2(data.inkyDoodleCollection.items[0]);\n      });\n      return response;\n    };\n\n    if (rightTreeLeftParent) {\n      if (rightTreeRightParent) {\n        if (rightTreeLeftParent.name && rightTreeRightParent.name) {\n          if (JSON.stringify(rightTreeLeftParent.name) === JSON.stringify(rightTreeRightParent.name)) {\n            changeRightGen2(rightTreeLeftParent);\n          } else {\n            getGen2Function();\n          }\n        } else {\n          if (JSON.stringify(rightTreeLeftParent.label) === JSON.stringify(rightTreeRightParent.label)) {\n            changeRightGen2(rightTreeLeftParent);\n          } else {\n            getGen2Function();\n          }\n        }\n      }\n    }\n  }, [rightTreeLeftParent, rightTreeRightParent, parentInkyDoodlesQuery, changeRightGen2, changeRightGen2Loading]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(InkyDoodle, {\n    parentInkyDoodles: parentInkyDoodles,\n    rightTreeLeftParent: rightTreeLeftParent,\n    changeRightTreeLeftParent: changeRightTreeLeftParent,\n    rightLeft: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(InkyDoodle, {\n    parentInkyDoodles: parentInkyDoodles,\n    rightTreeRightParent: rightTreeRightParent,\n    changeRightTreeRightParent: changeRightTreeRightParent,\n    rightRight: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default RightParents;","map":{"version":3,"sources":["/Users/mamenko/inky-doodle/src/components/RightParents.js"],"names":["React","useEffect","axios","InkyDoodle","RightParents","props","parentInkyDoodles","rightTreeLeftParent","changeRightTreeLeftParent","rightTreeRightParent","changeRightTreeRightParent","changeRightGen2","changeRightGen2Loading","parentInkyDoodlesQuery","label","JSON","stringify","getGen2Function","response","url","process","env","REACT_APP_SPACE_ID","method","headers","Authorization","REACT_APP_ACCESS_TOKEN","data","query","then","res","errors","console","error","inkyDoodleCollection","items","name"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport axios from \"axios\";\nimport InkyDoodle from \"./InkyDoodle\";\n\nconst RightParents = (props) => {\n  const {\n    parentInkyDoodles,\n    rightTreeLeftParent,\n    changeRightTreeLeftParent,\n    rightTreeRightParent,\n    changeRightTreeRightParent,\n    changeRightGen2,\n    changeRightGen2Loading,\n  } = props;\n\n  const parentInkyDoodlesQuery = `\n    query {\n        inkyDoodleCollection(where: {generation_in: 2, parents_contains_all: [${\n          rightTreeLeftParent.label\n            ? JSON.stringify(rightTreeLeftParent.label)\n            : null\n        }, ${\n    rightTreeRightParent.label\n      ? JSON.stringify(rightTreeRightParent.label)\n      : null\n  }]}) {\n            items {\n                generation\n                name\n                parents\n                image {\n                    url\n                }\n            }\n        }\n    }\n`;\n\n  useEffect(() => {\n    const getGen2Function = async () => {\n      changeRightGen2Loading(true);\n\n      const response = await axios({\n        url: `https://graphql.contentful.com/content/v1/spaces/${process.env.REACT_APP_SPACE_ID}`,\n        method: \"post\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${process.env.REACT_APP_ACCESS_TOKEN}`,\n        },\n        data: {\n          query: parentInkyDoodlesQuery,\n        },\n      })\n        .then((res) => {\n          return res.data;\n        })\n        .then(({ data, errors }) => {\n          changeRightGen2Loading(false);\n\n          if (errors) {\n            console.error(errors);\n          }\n\n          changeRightGen2(data.inkyDoodleCollection.items[0]);\n        });\n\n      return response;\n    };\n\n    if (rightTreeLeftParent) {\n      if (rightTreeRightParent) {\n        if (rightTreeLeftParent.name && rightTreeRightParent.name) {\n          if (\n            JSON.stringify(rightTreeLeftParent.name) ===\n            JSON.stringify(rightTreeRightParent.name)\n          ) {\n            changeRightGen2(rightTreeLeftParent);\n          } else {\n            getGen2Function();\n          }\n        } else {\n          if (\n            JSON.stringify(rightTreeLeftParent.label) ===\n            JSON.stringify(rightTreeRightParent.label)\n          ) {\n            changeRightGen2(rightTreeLeftParent);\n          } else {\n            getGen2Function();\n          }\n        }\n      }\n    }\n  }, [\n    rightTreeLeftParent,\n    rightTreeRightParent,\n    parentInkyDoodlesQuery,\n    changeRightGen2,\n    changeRightGen2Loading,\n  ]);\n\n  return (\n    <>\n      <InkyDoodle\n        parentInkyDoodles={parentInkyDoodles}\n        rightTreeLeftParent={rightTreeLeftParent}\n        changeRightTreeLeftParent={changeRightTreeLeftParent}\n        rightLeft\n      />\n      <InkyDoodle\n        parentInkyDoodles={parentInkyDoodles}\n        rightTreeRightParent={rightTreeRightParent}\n        changeRightTreeRightParent={changeRightTreeRightParent}\n        rightRight\n      />\n    </>\n  );\n};\n\nexport default RightParents;\n"]},"metadata":{},"sourceType":"module"}